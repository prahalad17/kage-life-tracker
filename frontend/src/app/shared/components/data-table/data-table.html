<div class="table-responsive">

  @if (config.create?.enabled) {
    <div class="table-header d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">{{config.tableName}}</h5>

      <button class="btn btn-primary" (click)="onCreateClick()">
        {{ config.create?.label || 'Create' }}
      </button>
    </div>
  }

  <table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
      <tr>
        @for (column of config.columns; track column.key) {
          <th>
            {{ column.header }}
          </th>
        }

        @if (config.actions?.length) {
          <th>Actions</th>
        }
      </tr>
    </thead>

    <tbody class="table-light">
      @for (row of rows; track row.id) {
        <tr>
          @for (column of config.columns; track column.key) {
            <td>
              {{ row[column.key] }}
            </td>
          }

          @if (config.actions?.length) {
            <td>
              @for (action of config.actions; track action.type) {

                @if(action.type === 'delete'){

                  <button
                  class="btn btn-sm btn-danger me-1"
                  (click)="onActionClick(action.type, row)">
                  <i class="bi bi-trash me-1"></i>
                  {{ action.label }}
                </button>

                }

                @else {
                  <button
                  class="btn btn-sm btn-outline-secondary me-1"
                  (click)="onActionClick(action.type, row)">
                  {{ action.label }}
                </button>

                }
                
              }
            </td>
          }
        </tr>
      }
    </tbody>
  </table>

</div>
